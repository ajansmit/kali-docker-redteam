
# --- Auto-Start Docker Desktop ---
# Verifica se o processo do Docker Desktop est√° rodando no Windows
if ! tasklist.exe 2>/dev/null | grep -q "Docker Desktop.exe"; then
    echo "üê≥ Docker Desktop est√° desligado. Iniciando..."
    # Inicia o execut√°vel do Windows em segundo plano
    "/mnt/c/Program Files/Docker/Docker/Docker Desktop.exe" &> /dev/null &
    
 function hack() {
    # 1. Verifica se o Docker Engine responde
    if ! docker info > /dev/null 2>&1; then
        echo "üõë Docker ainda est√° carregando ou fechado."
        echo "Aguardando o motor iniciar (isso pode levar uns segundos)..."
        
        # Loop de espera at√© o Docker responder
        while ! docker info > /dev/null 2>&1; do
            echo -n "."
            sleep 2
        done
        echo -e "\n‚úÖ Docker Online!"
    fi

    # 2. Roda o container
    docker run -it --hostname redteam --net=host -v $(pwd):/home/kali/ctf kali-redteam
}   # (Opcional) Aviso para esperar um pouco
    echo "‚è≥ Aguarde alguns segundos para o Docker engine subir antes de rodar o 'hack'."
else
    # Se j√° estiver rodando, n√£o faz nada (silencioso)
    :
fi


